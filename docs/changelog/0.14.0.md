# Changelog - Version 0.14.0

**Release Date:** 2025-11-28

## ğŸ¯ Summary

Adds new Timeline Delta and Death Replay GUIs - players can now compare their weekly progress ("This week vs last week") and review their death history with detailed information about each death.

---

## âœ¨ New Features

### Timeline Delta View GUI
- New "ğŸ“ˆ Weekly Progress" button in PlayerStatsGui (slot 51)
- Compare activity between this week (last 7 days) and last week (previous 7 days)
- Visual indicators for progress:
  - ğŸŸ¢ Green for improvements
  - ğŸ”´ Red for declines
  - ğŸŸ¡ Yellow for unchanged
- Comparison metrics include:
  - â± Playtime
  - âš” Total Kills
  - ğŸ’€ Deaths (lower is better)
  - ğŸ§± Blocks broken/placed
  - ğŸƒ Distance traveled
  - ğŸ”¨ Items crafted
  - ğŸ’¥ Damage dealt
  - ğŸ– Items consumed
- Summary panel showing overall progress verdict:
  - "ğŸ“ˆ Great Progress!" when improvements > declines
  - "ğŸ“‰ Less Active" when declines > improvements
  - "ğŸ“Š Steady Week" when tied
- Percentage change indicators per stat category

### Death Replay GUI
- New "ğŸ’€ Death History" button in PlayerStatsGui (slot 46)
- View last 100 deaths with detailed information
- Features for each death entry:
  - âš” Cause of death with smart icon selection
  - ğŸ“ Location (world, X, Y, Z coordinates)
  - â¤ Health at time of death
  - ğŸ“‰ Fall distance (if applicable)
  - ğŸ‘¥ Nearby players when death occurred
  - ğŸ¾ Nearby mobs when death occurred
  - ğŸ“¦ Inventory item count
- Smart death cause icons:
  - Mob-specific heads (Zombie, Skeleton, Creeper, etc.)
  - Environmental icons (Feather for falls, Lava bucket for fire, Water bucket for drowning)
  - Diamond sword for PvP kills
  - Void/portal icons for special deaths
- Relative timestamps ("5 minutes ago", "2 days ago")
- Pagination for players with many deaths (21 deaths per page)
- Works for viewing both your own and other players' death history

### Navigation Enhancements
- Timeline Delta accessible from PlayerStatsGui via "Weekly Progress" button (slot 51)
- Death Replay accessible from PlayerStatsGui via "Death History" button (slot 46)
- Both GUIs include refresh and back navigation buttons

---

## ğŸ”§ Technical Notes

### Timeline Delta GUI
- New `TimelineDeltaGui` class in `de.nurrobin.smpstats.gui`
- Uses existing `StatsStorage.loadTimelineRange()` for data retrieval
- Calculates "last week" by subtracting 7-day range from 14-day range
- 11 new unit tests added

### Death Replay GUI
- New `DeathReplayGui` class in `de.nurrobin.smpstats.gui`
- New `StatsStorage.loadDeathReplaysForPlayer(UUID, int)` method
- Uses existing `DeathReplayEntry` record for data structure
- Smart icon mapping with priority ordering (mob names before "killed by")
- 19 new unit tests added

---

## ğŸ“– Upgrade Notes

- No configuration or database changes required
- Features automatically available to all players with stats GUI access
- Timeline Delta requires timeline data to be present (built up over time from daily snapshots)
- Death Replay requires death tracking to be enabled (`death-replay.enabled: true` in config)

---

## ğŸ—ºï¸ Roadmap

This release completes two items from the GUI Enhancement Roadmap (Milestone 2):
- âœ… Timeline Delta View (Medium feature)
- âœ… Death Replay GUI (Larger feature)
