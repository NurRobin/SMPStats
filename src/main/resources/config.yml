config_version: 3

api:
  enabled: true            # Enable HTTP API
  bind_address: "0.0.0.0"  # Bind address, usually 0.0.0.0
  port: 8765               # API port
  api_key: "YouShouldChangeThisKey" # Set a secret key

tracking:
  movement: true      # Distance tracking (dimensions)
  blocks: true        # Blocks placed/broken
  kills: true         # Player/mob kills
  biomes: true        # Visited biomes
  crafting: true      # Crafted item count
  damage: true        # Damage dealt/taken
  consumption: true   # Items consumed

autosave_minutes: 5   # Autosave interval (minutes)

skills:
  # Weights drive the "skill score" calculation. Display only, no gameplay impact.
  mining:
    blocks_broken_weight: 0.05
  combat:
    player_kill_weight: 5.0
    mob_kill_weight: 2.0
    damage_dealt_weight: 0.02
  exploration:
    distance_weight: 0.01
    biomes_weight: 8.0
  builder:
    blocks_placed_weight: 0.05
  farmer:
    items_crafted_weight: 0.02
    items_consumed_weight: 0.01

moments:
  enabled: true
  flush_seconds: 10    # Checks open merge windows
  definitions:
    diamond_run:
      type: block_break
      title: "Diamanten Run"
      detail: "Diamanten gefunden: {count}"
      merge_seconds: 30
      materials: [DIAMOND_ORE, DEEPSLATE_DIAMOND_ORE]
    first_death:
      type: first_death
      title: "Erster Tod"
      detail: "{player} ist das erste Mal gestorben."
      first_only: true
    big_fall_death:
      type: death_fall
      title: "Big Fall Death"
      detail: "{player} fiel aus {fall} Bl√∂cken."
      min_fall_distance: 50
    wither_kill:
      type: boss_kill
      entity_types: [WITHER]
      title: "Wither besiegt"
      detail: "{player} hat den Wither gelegt."
    netherite_gain:
      type: item_gain
      title: "Netherite!"
      detail: "{player} hat Netherite gefunden."
      materials: [NETHERITE_INGOT]
      merge_seconds: 10
    mlg_water:
      type: boss_kill
      entity_types: [MLG_WATER]
      title: "MLG!"
      detail: "{player} hat ein MLG geschafft."

heatmap:
  enabled: true
  flush_minutes: 5     # Write interval for heatmap bins (chunk-based)
  hotspots:
    spawn:
      name: "Spawn"
      world: "world"
      min: {x: -100, z: -100}
      max: {x: 100, z: 100}

social:
  enabled: true
  sample_seconds: 5    # Interval for proximity samples (seconds)
  nearby_radius: 16    # Radius for shared actions (blocks)

timeline:
  enabled: true

death_replay:
  enabled: true
  include_inventory_items: true
  nearby_radius: 16   # Radius to include nearby entities (blocks)
  limit: 50           # Number of stored death reports
health:
  enabled: true
  sample_minutes: 5
  weights:
    chunk: 0.02
    entity: 0.005
    hopper: 0.2
    redstone: 0.1

story:
  enabled: true
  interval_days: 7
  summary_hour: 6           # Server time (hour 0-23) to emit weekly summary
  webhook_url: ""           # Optional HTTP endpoint for JSON export
  top_limit: 5              # Top players included in summary
  recent_moments: 10        # Moments included with the summary
